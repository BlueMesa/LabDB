function checkVial(){var b=parseInt($("#barcode").val(),10);var a=$("#FlyVialSelectType_items_"+b);if(a.length){if(a.attr("checked")){a.removeAttr("checked");a.parent().parent().stop().css("background-color","").effect("highlight",{color:"red"},5000)}else{a.attr("checked","checked");a.parent().parent().stop().css("background-color","").effect("highlight",{color:"green"},5000)}}else{$.ajax({type:"GET",url:"/app_dev.php/ajax/vials/"+b,success:function(c){$("#vials").append(c);$("#FlyVialSelectType_items_"+b).parent().parent().stop().css("background-color","").effect("highlight",{color:"green"},5000)}})}$("#barcode").val("");$("#barcode").focus()}function getVial(b){var a=b.id;var c=a.substring(2);var d=parseInt(b.value,10);if(b.value==0){$('[id$="Type_'+c+'"]').val("null");$("#"+b.id+"_data").html("")}else{$.getJSON("/app_dev.php/ajax/vials/"+d+".json",function(f){var e="";if(f){switch(c){case"parent":if(f.stock){e=pad(f.id+"",6);$('[id$="Type_'+c+'"]').val(f.id);$("#"+b.id+"_data").html(e)}break;case"stock":if(f.stock){e=f.stock.name;$('[id$="Type_'+c+'"]').val(f.stock.id);$("#"+b.id+"_data").html(e)}break;case"source_cross":case"cross":if(f.cross){e=f.cross.virgin_name+" \u263f ✕ "+f.cross.male_name+" \u2642";$('[id$="Type_'+c+'"]').val(f.cross.id);$("#"+b.id+"_data").html(e)}break;case"virgin":case"male":if(f.stock){e=f.stock.name+" ("+pad(f.id+"",6)+")";$('[id$="Type_'+c+'"]').val(f.id);$("#"+b.id+"_data").html(e);$('[id$="Type_'+c+'Name"]').val(f.stock.name)}else{if(f.cross){e=f.cross.virgin_name+" \u263f ✕ "+f.cross.male_name+" \u2642 ("+pad(f.id+"",6)+")";$('[id$="Type_'+c+'"]').val(f.id);$("#"+b.id+"_data").html(e);$('[id$="Type_'+c+'Name"]').val("")}}break}}})}b.value=""}function pad(b,a){return b.length<a?pad("0"+b,a):b}function preventEnterSubmit(c){if(c.which==13){var a=$(c.target);if(!a.is("textarea")&&!a.is(":button,:submit")){var b=a.closest("form").find(":input").not(":hidden");b.eq(b.index(c.target)+1).focus();return false}return true}}$(document).ready(function(){$("form").bind("keypress",function(a){return preventEnterSubmit(a)});$(".date").datepicker({dateFormat:"dd M yy"});$("#submit").button({icons:{primary:"ui-icon-check"}});$("#save").button({icons:{primary:"ui-icon-disk"}});$("#cancel").button({icons:{primary:"ui-icon-closethick"}});$("#reset").button({icons:{primary:"ui-icon-refresh"}});$("#list").button({icons:{primary:"ui-icon-folder-collapsed"}});$("#new").button({icons:{primary:"ui-icon-document"}});$("#edit").button({icons:{primary:"ui-icon-pencil"}});$("#delete").button({icons:{primary:"ui-icon-trash"}});$("#trash").button({icons:{primary:"ui-icon-trash"}});$("#flip").button({icons:{primary:"ui-icon-copy"}});$("#print").button({icons:{primary:"ui-icon-print"}});$("#select").button({icons:{primary:"ui-icon-tag"}});$("nav a").button();$("select").selectmenu({style:"dropdown",wrapperElement:"<div class='ui-selectmenu-wrap' />"});$("td").addClass("ui-state-default");$("input").addClass("ui-state-default");$("input").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")});$("input").focus(function(){$(this).addClass("ui-state-active")});$("input").blur(function(){$(this).removeClass("ui-state-active")});$("th").addClass("ui-widget-header");$("table").attr("cellspacing","0");$("#checkall").click(function(){$(this).parents("table").find(":checkbox").attr("checked",this.checked)})});