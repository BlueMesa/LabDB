{% extends 'MopaBootstrapBundle:Form:fields.html.twig' %}

{% block choice_widget_collapsed %}
  {% spaceless %}
    {% set attr = attr|merge({ 'class': attr.class|default('') ~ ' select2' }) %}
    {{ parent() }}
  {% endspaceless %}
{% endblock %}

{% block typeahead_widget %}
  {% spaceless %}
    {% set attr = attr|merge({
        'class': attr.class|default('') ~ ' ajax-typeahead',
        'data-link': data_link|default(''),
        'autocomplete': 'off' }) %}
    {{ block('form_widget_simple') }}
  {% endspaceless %}
{% endblock %}

{% block role_typeahead_widget %}
  {% spaceless %}
    {{ block('typeahead_widget') }}
  {% endspaceless %}
{% endblock %}

{% block entity_typeahead_widget %}
  {% spaceless %}
    {{ block('typeahead_widget') }}
  {% endspaceless %}
{% endblock %}

{% block user_typeahead_widget %}
  {% spaceless %}
    {% set attr = attr|merge({
        'class': attr.class|default('') ~ ' user-typeahead',
        'data-link': data_link|default(''),
        'autocomplete': 'off' }) %}
    {{ block('form_widget_simple') }}
  {% endspaceless %}
{% endblock %}

{% block collection_widget %}
{% spaceless %}
    {% set data_prototype_name = form.vars.form.vars.prototype.vars.name|default('__name__') %}
    <div class="collection-items col-sm-9">
    {% if form.vars.value|length == 0%}
        {% for name in prototype_names %}
            {{ prototype_markup|replace({'__name__': name})|raw }}
        {% endfor %}
    {% endif %}
    {{ block('form_widget') }}
    </div>
{% endspaceless %}
{% endblock collection_widget %}

{% block form_widget_remove_btn %}
{% spaceless %}
    {% if widget_remove_btn|default(null) %}
    {% set button_type = 'remove' %}
    {% set button_values = widget_remove_btn %}
    {{ block('collection_button') }}
    {% endif %}
{% endspaceless %}
{% endblock form_widget_remove_btn %}
